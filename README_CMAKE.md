# Build/Install

## Dependencies (Ubuntu 16.04 and other Debian based Linux Distributions)

```
sudo apt-get install build-essential libusb-1.0-0-dev cmake

# if Python wrapper or toolkit are needed
sudo apt-get python3-pip python3-tk python3-wheel
```

## Build configurations of the source code

Following CMake options are provided to change which part of the source code will be built:

Option | Description | Default
--- | --- | ---
WITH_TOOLKIT | The toolkit Python packages will be included when building Python packages; And examples using toolkit will be included | ON

The user can set them in cmdline or in CMake GUI tool. For example in Linux cmdline:

```
mkdir build
cd build
cmake -DWITH_TOOLKIT=ON ..
make
sudo make install
```

The following README will assume Unix Makefile is generated by CMake on Linux to simplify the instructions, please change accordingly if using other build system files.

## Minimal install (build and install NCSDK base library only)

```
mkdir build
cd build
cmake -DWITH_TOOLKIT=OFF ..
make
sudo make install
```

## Setup Python

### Install Python wrapper and toolkit scripts

If Python wrapper or toolkit scripts is needed, one CMake target is provided to generate all Python packages:

```
# in build folder
make pyncsdk
```

Python wrapper and toolkit packages will be generated in build folder.

### Optional Caffe Python install

NCSDK toolkit scripts can work with TensorFlow and Caffe. Since Caffe Python library is not in PyPI, if Caffe is preferred user can compile Caffe Python package himself, or just type:

```
# in build folder
make pycaffe
```

Caffe and its Python wrapper will be downloaded, built and installed in folder caffe. Then `ncsdk-dir`/caffe/python can be appended to PYTHONPATH to use pycaffe.

```
export PYTHONPATH=`ncsdk-dir`/caffe/python:$PYTHONPATH
```

Please refer to [Caffe official website](http://caffe.berkeleyvision.org/installation.html) for dependency libraries to install **BEFORE** 'make pycaffe'. For example if you're on Ubuntu 16.04, this command is all you need:

```
sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler libboost-all-dev libatlas-base-dev python3-dev python3-numpy libgflags-dev libgoogle-glog-dev liblmdb-dev
```

# Examples

In the examples folder, some application code and data/models are included in the examples folder:
- apps: Some applications to demonstrate how to use NCS, details in below.
- data: Data files needed by examples.
- caffe: Caffe models will be downloaded here.
- tensorflow: TensorFlow models will be downloaded here.

For more examples using NCS, please check [Neural Compute Application Zoo](https://github.com/movidius/ncappzoo).

To build cpp examples, and if WITH_TOOLKIT is ON, to download all data/models and compile graph files to load on NCS:

```
make examples
```

If WITH_TOOLKIT is ON, downloaded models will be automatically compiled to graph format using toolkit script mvNCCompile and PyCaffe, please follow [Setup Python](#setup-python) first.

The following examples are included in examples folder:

## hello_ncs_cpp

This basic C++ example opens the device to check the installation is ready. The executable will be generated in `examples/apps/hello_ncs_cpp/cpp`.

## hello_ncs_py

Basic hello NCS example, Python version.

## multistick_cpp

This C++ example demos running with two NCSs. The executable will be generated in `examples/apps/multistick_cpp/cpp` and two graph files will be copied there.

## image-classifier

This Python examples demos image classification on NCS. Some graph files are generated for use in examples caffe and tensorflow folders. Run below command for example, please check the script for full list of arguments.

```
python3 image-classifier.py --graph ../../caffe/SqueezeNet/graph --dim 227 227 --image ../../data/images/pic_053.jpg
```

## object-detector

This Python examples demos object detection on NCS. It supports two networks: SSD and tiny yolo, their graph files are generated for use in sub directories of examples/caffe. Run below command for example, please check the script for full list of arguments.

```
python3 object-detector.py --image ../../data/images/pic_053.jpg
```

# Other CMake projects to use NCSDK

In other CMake projects, only these two lines are needed in their CMake files to link the NCSDK mvnc library:

```
find_package(ncsdk REQUIRED)

target_link_libraries(`execuable_or_library_name` ncsdk::mvnc)
```

# Development

Welcome to add new features, examples and bug fixes! If you would like to contribute to NCSDK, please read the following sections.

## Examples

The NCSDK repository contains some examples to demonstrate the functionalities of NCSDK.
- Examples/apps folder contains the different kinds cpp/py applications.
- Examples/caffe and examples/tensorflow contains model files for different neural networks.
- Examples/data folder contains some data files needed by the applications.

You can send PRs to contribute according to the catalog, since the project is managed by CMake, it's easier to copy CMakeLists.txt from existing examples and make the changes.

Please note in NCSDK repository the examples are just for demo. For more complex examples and tutorials using NCS, please go to [Neural Compute Application Zoo](https://github.com/movidius/ncappzoo).

## Toolkit

The NCSDK toolkit is released in NCSDK repository too. The 3 toolkit scripts are managed as Python namespace packages. All depend on mvnctools-lib as the common code base, and mvnctools-lib depends on mvnc Python wrapper package. If new third party library dependency is added for the toolkit or base mvnc wrapper, please add them in the corresponding setup.py `install_requires` section before sending PR.
