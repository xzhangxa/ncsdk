set(folder @PYFOLDER@)
set(dest @PYDESTFOLDER@)
set(PYTHON_EXECUTABLE python3)
if(WIN32)
    set(PYTHON_EXECUTABLE python)
endif()
execute_process(
    COMMAND ${PYTHON_EXECUTABLE} setup.py -q bdist_wheel
    WORKING_DIRECTORY ${folder}
)
file(GLOB wheel "${folder}/dist/*.whl")
file(GLOB egginfo "${folder}/*.egg-info")
execute_process(
    COMMAND ${CMAKE_COMMAND} -E copy ${wheel} ${dest}
    WORKING_DIRECTORY ${folder}
)
execute_process(
    COMMAND ${CMAKE_COMMAND} -E remove_directory dist
    COMMAND ${CMAKE_COMMAND} -E remove_directory build
    COMMAND ${CMAKE_COMMAND} -E remove_directory ${egginfo}
    WORKING_DIRECTORY ${folder}
)
